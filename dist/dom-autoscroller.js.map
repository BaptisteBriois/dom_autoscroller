{"version":3,"file":"dom-autoscroller.js","sources":["../node_modules/type-func/dist/bundle.es.js","../node_modules/animation-frame-polyfill/lib/animation-frame-polyfill.module.js","../node_modules/iselement/module/index.js","../node_modules/array-from/polyfill.js","../node_modules/is-array/index.js","../node_modules/dom-set/dist/bundle.es.js","../node_modules/create-point-cb/index.js","../node_modules/dom-plane/dist/bundle.es.js","../node_modules/dom-mousemove-dispatcher/dist/bundle.es.js","../src/index.js"],"sourcesContent":["function getDef(f, d) {\n    if (typeof f === 'undefined') {\n        return typeof d === 'undefined' ? f : d;\n    }\n\n    return f;\n}\nfunction boolean(func, def) {\n\n    func = getDef(func, def);\n\n    if (typeof func === 'function') {\n        return function f() {\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n            }\n\n            return !!func.apply(this, args);\n        };\n    }\n\n    return !!func ? function () {\n        return true;\n    } : function () {\n        return false;\n    };\n}\n\nfunction integer(func, def) {\n\n    func = getDef(func, def);\n\n    if (typeof func === 'function') {\n        return function f() {\n            for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n            }\n\n            var n = parseInt(func.apply(this, args), 10);\n            return n != n ? 0 : n;\n        };\n    }\n\n    func = parseInt(func, 10);\n\n    return func != func ? function () {\n        return 0;\n    } : function () {\n        return func;\n    };\n}\n\nfunction string(func, def) {\n\n    func = getDef(func, def);\n\n    if (typeof func === 'function') {\n        return function f() {\n            for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                args[_key3] = arguments[_key3];\n            }\n\n            return '' + func.apply(this, args);\n        };\n    }\n\n    func = '' + func;\n\n    return function () {\n        return func;\n    };\n}\n\nexport { boolean, integer, string };\n//# sourceMappingURL=bundle.es.js.map\n","var prefix = ['webkit', 'moz', 'ms', 'o'];\n\nexport var requestAnimationFrame = function () {\n\n  for (var i = 0, limit = prefix.length; i < limit && !window.requestAnimationFrame; ++i) {\n    window.requestAnimationFrame = window[prefix[i] + 'RequestAnimationFrame'];\n  }\n\n  if (!window.requestAnimationFrame) {\n    (function () {\n      var lastTime = 0;\n\n      window.requestAnimationFrame = function (callback) {\n        var now = new Date().getTime();\n        var ttc = Math.max(0, 16 - now - lastTime);\n        var timer = window.setTimeout(function () {\n          return callback(now + ttc);\n        }, ttc);\n\n        lastTime = now + ttc;\n\n        return timer;\n      };\n    })();\n  }\n\n  return window.requestAnimationFrame.bind(window);\n}();\n\nexport var cancelAnimationFrame = function () {\n\n  for (var i = 0, limit = prefix.length; i < limit && !window.cancelAnimationFrame; ++i) {\n    window.cancelAnimationFrame = window[prefix[i] + 'CancelAnimationFrame'] || window[prefix[i] + 'CancelRequestAnimationFrame'];\n  }\n\n  if (!window.cancelAnimationFrame) {\n    window.cancelAnimationFrame = function (timer) {\n      window.clearTimeout(timer);\n    };\n  }\n\n  return window.cancelAnimationFrame.bind(window);\n}();\n","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\n/**\n * Returns `true` if provided input is Element.\n * @name isElement\n * @param {*} [input]\n * @returns {boolean}\n */\nexport default function (input) {\n  return input != null && (typeof input === 'undefined' ? 'undefined' : _typeof(input)) === 'object' && input.nodeType === 1 && _typeof(input.style) === 'object' && _typeof(input.ownerDocument) === 'object';\n}","// Production steps of ECMA-262, Edition 6, 22.1.2.1\n// Reference: http://www.ecma-international.org/ecma-262/6.0/#sec-array.from\nmodule.exports = (function() {\n  var isCallable = function(fn) {\n    return typeof fn === 'function';\n  };\n  var toInteger = function (value) {\n    var number = Number(value);\n    if (isNaN(number)) { return 0; }\n    if (number === 0 || !isFinite(number)) { return number; }\n    return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));\n  };\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n  var toLength = function (value) {\n    var len = toInteger(value);\n    return Math.min(Math.max(len, 0), maxSafeInteger);\n  };\n  var iteratorProp = function(value) {\n    if(value != null) {\n      if(['string','number','boolean','symbol'].indexOf(typeof value) > -1){\n        return Symbol.iterator;\n      } else if (\n        (typeof Symbol !== 'undefined') &&\n        ('iterator' in Symbol) &&\n        (Symbol.iterator in value)\n      ) {\n        return Symbol.iterator;\n      }\n      // Support \"@@iterator\" placeholder, Gecko 27 to Gecko 35\n      else if ('@@iterator' in value) {\n        return '@@iterator';\n      }\n    }\n  };\n  var getMethod = function(O, P) {\n    // Assert: IsPropertyKey(P) is true.\n    if (O != null && P != null) {\n      // Let func be GetV(O, P).\n      var func = O[P];\n      // ReturnIfAbrupt(func).\n      // If func is either undefined or null, return undefined.\n      if(func == null) {\n        return void 0;\n      }\n      // If IsCallable(func) is false, throw a TypeError exception.\n      if (!isCallable(func)) {\n        throw new TypeError(func + ' is not a function');\n      }\n      return func;\n    }\n  };\n  var iteratorStep = function(iterator) {\n    // Let result be IteratorNext(iterator).\n    // ReturnIfAbrupt(result).\n    var result = iterator.next();\n    // Let done be IteratorComplete(result).\n    // ReturnIfAbrupt(done).\n    var done = Boolean(result.done);\n    // If done is true, return false.\n    if(done) {\n      return false;\n    }\n    // Return result.\n    return result;\n  };\n\n  // The length property of the from method is 1.\n  return function from(items /*, mapFn, thisArg */ ) {\n    'use strict';\n\n    // 1. Let C be the this value.\n    var C = this;\n\n    // 2. If mapfn is undefined, let mapping be false.\n    var mapFn = arguments.length > 1 ? arguments[1] : void 0;\n\n    var T;\n    if (typeof mapFn !== 'undefined') {\n      // 3. else\n      //   a. If IsCallable(mapfn) is false, throw a TypeError exception.\n      if (!isCallable(mapFn)) {\n        throw new TypeError(\n          'Array.from: when provided, the second argument must be a function'\n        );\n      }\n\n      //   b. If thisArg was supplied, let T be thisArg; else let T\n      //      be undefined.\n      if (arguments.length > 2) {\n        T = arguments[2];\n      }\n      //   c. Let mapping be true (implied by mapFn)\n    }\n\n    var A, k;\n\n    // 4. Let usingIterator be GetMethod(items, @@iterator).\n    // 5. ReturnIfAbrupt(usingIterator).\n    var usingIterator = getMethod(items, iteratorProp(items));\n\n    // 6. If usingIterator is not undefined, then\n    if (usingIterator !== void 0) {\n      // a. If IsConstructor(C) is true, then\n      //   i. Let A be the result of calling the [[Construct]]\n      //      internal method of C with an empty argument list.\n      // b. Else,\n      //   i. Let A be the result of the abstract operation ArrayCreate\n      //      with argument 0.\n      // c. ReturnIfAbrupt(A).\n      A = isCallable(C) ? Object(new C()) : [];\n\n      // d. Let iterator be GetIterator(items, usingIterator).\n      var iterator = usingIterator.call(items);\n\n      // e. ReturnIfAbrupt(iterator).\n      if (iterator == null) {\n        throw new TypeError(\n          'Array.from requires an array-like or iterable object'\n        );\n      }\n\n      // f. Let k be 0.\n      k = 0;\n\n      // g. Repeat\n      var next, nextValue;\n      while (true) {\n        // i. Let Pk be ToString(k).\n        // ii. Let next be IteratorStep(iterator).\n        // iii. ReturnIfAbrupt(next).\n        next = iteratorStep(iterator);\n\n        // iv. If next is false, then\n        if (!next) {\n\n          // 1. Let setStatus be Set(A, \"length\", k, true).\n          // 2. ReturnIfAbrupt(setStatus).\n          A.length = k;\n\n          // 3. Return A.\n          return A;\n        }\n        // v. Let nextValue be IteratorValue(next).\n        // vi. ReturnIfAbrupt(nextValue)\n        nextValue = next.value;\n\n        // vii. If mapping is true, then\n        //   1. Let mappedValue be Call(mapfn, T, «nextValue, k»).\n        //   2. If mappedValue is an abrupt completion, return\n        //      IteratorClose(iterator, mappedValue).\n        //   3. Let mappedValue be mappedValue.[[value]].\n        // viii. Else, let mappedValue be nextValue.\n        // ix.  Let defineStatus be the result of\n        //      CreateDataPropertyOrThrow(A, Pk, mappedValue).\n        // x. [TODO] If defineStatus is an abrupt completion, return\n        //    IteratorClose(iterator, defineStatus).\n        if (mapFn) {\n          A[k] = mapFn.call(T, nextValue, k);\n        }\n        else {\n          A[k] = nextValue;\n        }\n        // xi. Increase k by 1.\n        k++;\n      }\n      // 7. Assert: items is not an Iterable so assume it is\n      //    an array-like object.\n    } else {\n\n      // 8. Let arrayLike be ToObject(items).\n      var arrayLike = Object(items);\n\n      // 9. ReturnIfAbrupt(items).\n      if (items == null) {\n        throw new TypeError(\n          'Array.from requires an array-like object - not null or undefined'\n        );\n      }\n\n      // 10. Let len be ToLength(Get(arrayLike, \"length\")).\n      // 11. ReturnIfAbrupt(len).\n      var len = toLength(arrayLike.length);\n\n      // 12. If IsConstructor(C) is true, then\n      //     a. Let A be Construct(C, «len»).\n      // 13. Else\n      //     a. Let A be ArrayCreate(len).\n      // 14. ReturnIfAbrupt(A).\n      A = isCallable(C) ? Object(new C(len)) : new Array(len);\n\n      // 15. Let k be 0.\n      k = 0;\n      // 16. Repeat, while k < len… (also steps a - h)\n      var kValue;\n      while (k < len) {\n        kValue = arrayLike[k];\n        if (mapFn) {\n          A[k] = mapFn.call(T, kValue, k);\n        }\n        else {\n          A[k] = kValue;\n        }\n        k++;\n      }\n      // 17. Let setStatus be Set(A, \"length\", len, true).\n      // 18. ReturnIfAbrupt(setStatus).\n      A.length = len;\n      // 19. Return A.\n    }\n    return A;\n  };\n})();\n","\n/**\n * isArray\n */\n\nvar isArray = Array.isArray;\n\n/**\n * toString\n */\n\nvar str = Object.prototype.toString;\n\n/**\n * Whether or not the given `val`\n * is an array.\n *\n * example:\n *\n *        isArray([]);\n *        // > true\n *        isArray(arguments);\n *        // > false\n *        isArray('');\n *        // > false\n *\n * @param {mixed} val\n * @return {bool}\n */\n\nmodule.exports = isArray || function (val) {\n  return !! val && '[object Array]' == str.call(val);\n};\n","import isElement from 'iselement';\nimport arrayFrom from 'array-from';\nimport isArray from 'is-array';\n\nfunction indexOfElement(elements, element) {\n    element = resolveElement(element, true);\n    if (!isElement(element)) return -1;\n    for (var i = 0; i < elements.length; i++) {\n        if (elements[i] === element) {\n            return i;\n        }\n    }\n    return -1;\n}\n\nfunction hasElement(elements, element) {\n    return -1 !== indexOfElement(elements, element);\n}\n\nfunction domListOf(arr) {\n\n    if (!arr) return [];\n\n    try {\n        if (typeof arr === 'string') {\n            return arrayFrom(document.querySelectorAll(arr));\n        } else if (isArray(arr)) {\n            return arr.map(resolveElement);\n        } else {\n            if (typeof arr.length === 'undefined') {\n                return [resolveElement(arr)];\n            }\n\n            return arrayFrom(arr, resolveElement);\n        }\n    } catch (e) {\n        throw new Error(e);\n    }\n}\n\nfunction concatElementLists() {\n    for (var _len = arguments.length, lists = Array(_len), _key = 0; _key < _len; _key++) {\n        lists[_key] = arguments[_key];\n    }\n\n    return lists.reduce(function (last, list) {\n        return list.length ? last : last.concat(domListOf(list));\n    }, []);\n}\n\nfunction pushElements(elements, toAdd) {\n\n    for (var i = 0; i < toAdd.length; i++) {\n        if (!hasElement(elements, toAdd[i])) elements.push(toAdd[i]);\n    }\n\n    return toAdd;\n}\n\nfunction addElements(elements) {\n    for (var _len2 = arguments.length, toAdd = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        toAdd[_key2 - 1] = arguments[_key2];\n    }\n\n    toAdd = toAdd.map(resolveElement);\n    return pushElements(elements, toAdd);\n}\n\nfunction removeElements(elements) {\n    for (var _len3 = arguments.length, toRemove = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n        toRemove[_key3 - 1] = arguments[_key3];\n    }\n\n    return toRemove.map(resolveElement).reduce(function (last, e) {\n\n        var index = indexOfElement(elements, e);\n\n        if (index !== -1) return last.concat(elements.splice(index, 1));\n        return last;\n    }, []);\n}\n\nfunction resolveElement(element, noThrow) {\n    if (typeof element === 'string') {\n        try {\n            return document.querySelector(element);\n        } catch (e) {\n            throw e;\n        }\n    }\n\n    if (!isElement(element) && !noThrow) {\n        throw new TypeError(element + ' is not a DOM element.');\n    }\n    return element;\n}\n\nexport { indexOfElement, hasElement, domListOf, concatElementLists, addElements, removeElements, resolveElement };\n//# sourceMappingURL=bundle.es.js.map\n","module.exports = function createPointCB(object, options){\n\n    // A persistent object (as opposed to returned object) is used to save memory\n    // This is good to prevent layout thrashing, or for games, and such\n\n    // NOTE\n    // This uses IE fixes which should be OK to remove some day. :)\n    // Some speed will be gained by removal of these.\n\n    // pointCB should be saved in a variable on return\n    // This allows the usage of element.removeEventListener\n\n    options = options || {};\n\n    var allowUpdate;\n\n    if(typeof options.allowUpdate === 'function'){\n        allowUpdate = options.allowUpdate;\n    }else{\n        allowUpdate = function(){return true;};\n    }\n\n    return function pointCB(event){\n\n        event = event || window.event; // IE-ism\n        object.target = event.target || event.srcElement || event.originalTarget;\n        object.element = this;\n        object.type = event.type;\n\n        if(!allowUpdate(event)){\n            return;\n        }\n\n        // Support touch\n        // http://www.creativebloq.com/javascript/make-your-site-work-touch-devices-51411644\n\n        if(event.targetTouches){\n            object.x = event.targetTouches[0].clientX;\n            object.y = event.targetTouches[0].clientY;\n            object.pageX = event.pageX;\n            object.pageY = event.pageY;\n        }else{\n\n            // If pageX/Y aren't available and clientX/Y are,\n            // calculate pageX/Y - logic taken from jQuery.\n            // (This is to support old IE)\n            // NOTE Hopefully this can be removed soon.\n\n            if (event.pageX === null && event.clientX !== null) {\n                var eventDoc = (event.target && event.target.ownerDocument) || document;\n                var doc = eventDoc.documentElement;\n                var body = eventDoc.body;\n\n                object.pageX = event.clientX +\n                  (doc && doc.scrollLeft || body && body.scrollLeft || 0) -\n                  (doc && doc.clientLeft || body && body.clientLeft || 0);\n                object.pageY = event.clientY +\n                  (doc && doc.scrollTop  || body && body.scrollTop  || 0) -\n                  (doc && doc.clientTop  || body && body.clientTop  || 0 );\n            }else{\n                object.pageX = event.pageX;\n                object.pageY = event.pageY;\n            }\n\n            // pageX, and pageY change with page scroll\n            // so we're not going to use those for x, and y.\n            // NOTE Most browsers also alias clientX/Y with x/y\n            // so that's something to consider down the road.\n\n            object.x = event.clientX;\n            object.y = event.clientY;\n        }\n\n    };\n\n    //NOTE Remember accessibility, Aria roles, and labels.\n};\n\n/*\ngit remote add origin https://github.com/hollowdoor/create_point_cb.git\ngit push -u origin master\n*/\n","import createPointCb from 'create-point-cb';\n\nfunction createWindowRect() {\n    var props = {\n        top: { value: 0, enumerable: true },\n        left: { value: 0, enumerable: true },\n        right: { value: window.innerWidth, enumerable: true },\n        bottom: { value: window.innerHeight, enumerable: true },\n        width: { value: window.innerWidth, enumerable: true },\n        height: { value: window.innerHeight, enumerable: true },\n        x: { value: 0, enumerable: true },\n        y: { value: 0, enumerable: true }\n    };\n\n    if (Object.create) {\n        return Object.create({}, props);\n    } else {\n        var rect = {};\n        Object.defineProperties(rect, props);\n        return rect;\n    }\n}\n\nfunction getClientRect(el) {\n    if (el === window) {\n        return createWindowRect();\n    } else {\n        try {\n            var rect = el.getBoundingClientRect();\n            if (rect.x === undefined) {\n                rect.x = rect.left;\n                rect.y = rect.top;\n            }\n            return rect;\n        } catch (e) {\n            throw new TypeError(\"Can't call getBoundingClientRect on \" + el);\n        }\n    }\n}\n\nfunction pointInside(point, el) {\n    var rect = getClientRect(el);\n    return point.y > rect.top && point.y < rect.bottom && point.x > rect.left && point.x < rect.right;\n}\n\nexport { createPointCb as createPointCB, getClientRect, pointInside };\n//# sourceMappingURL=bundle.es.js.map\n","var objectCreate = void 0;\nif (typeof Object.create != 'function') {\n  objectCreate = function (undefined) {\n    var Temp = function Temp() {};\n    return function (prototype, propertiesObject) {\n      if (prototype !== Object(prototype) && prototype !== null) {\n        throw TypeError('Argument must be an object, or null');\n      }\n      Temp.prototype = prototype || {};\n      var result = new Temp();\n      Temp.prototype = null;\n      if (propertiesObject !== undefined) {\n        Object.defineProperties(result, propertiesObject);\n      }\n\n      // to imitate the case of Object.create(null)\n      if (prototype === null) {\n        result.__proto__ = null;\n      }\n      return result;\n    };\n  }();\n} else {\n  objectCreate = Object.create;\n}\n\nvar objectCreate$1 = objectCreate;\n\nvar mouseEventProps = ['altKey', 'button', 'buttons', 'clientX', 'clientY', 'ctrlKey', 'metaKey', 'movementX', 'movementY', 'offsetX', 'offsetY', 'pageX', 'pageY', 'region', 'relatedTarget', 'screenX', 'screenY', 'shiftKey', 'which', 'x', 'y'];\n\nfunction createDispatcher(element) {\n\n    var defaultSettings = {\n        screenX: 0,\n        screenY: 0,\n        clientX: 0,\n        clientY: 0,\n        ctrlKey: false,\n        shiftKey: false,\n        altKey: false,\n        metaKey: false,\n        button: 0,\n        buttons: 1,\n        relatedTarget: null,\n        region: null\n    };\n\n    if (element !== undefined) {\n        element.addEventListener('mousemove', onMove);\n    }\n\n    function onMove(e) {\n        for (var i = 0; i < mouseEventProps.length; i++) {\n            defaultSettings[mouseEventProps[i]] = e[mouseEventProps[i]];\n        }\n    }\n\n    var dispatch = function () {\n        if (MouseEvent) {\n            return function m1(element, initMove, data) {\n                var evt = new MouseEvent('mousemove', createMoveInit(defaultSettings, initMove));\n\n                //evt.dispatched = 'mousemove';\n                setSpecial(evt, data);\n\n                return element.dispatchEvent(evt);\n            };\n        } else if (typeof document.createEvent === 'function') {\n            return function m2(element, initMove, data) {\n                var settings = createMoveInit(defaultSettings, initMove);\n                var evt = document.createEvent('MouseEvents');\n\n                evt.initMouseEvent(\"mousemove\", true, //can bubble\n                true, //cancelable\n                window, //view\n                0, //detail\n                settings.screenX, //0, //screenX\n                settings.screenY, //0, //screenY\n                settings.clientX, //80, //clientX\n                settings.clientY, //20, //clientY\n                settings.ctrlKey, //false, //ctrlKey\n                settings.altKey, //false, //altKey\n                settings.shiftKey, //false, //shiftKey\n                settings.metaKey, //false, //metaKey\n                settings.button, //0, //button\n                settings.relatedTarget //null //relatedTarget\n                );\n\n                //evt.dispatched = 'mousemove';\n                setSpecial(evt, data);\n\n                return element.dispatchEvent(evt);\n            };\n        } else if (typeof document.createEventObject === 'function') {\n            return function m3(element, initMove, data) {\n                var evt = document.createEventObject();\n                var settings = createMoveInit(defaultSettings, initMove);\n                for (var name in settings) {\n                    evt[name] = settings[name];\n                }\n\n                //evt.dispatched = 'mousemove';\n                setSpecial(evt, data);\n\n                return element.dispatchEvent(evt);\n            };\n        }\n    }();\n\n    function destroy() {\n        if (element) element.removeEventListener('mousemove', onMove, false);\n        defaultSettings = null;\n    }\n\n    return {\n        destroy: destroy,\n        dispatch: dispatch\n    };\n}\n\nfunction createMoveInit(defaultSettings, initMove) {\n    initMove = initMove || {};\n    var settings = objectCreate$1(defaultSettings);\n    for (var i = 0; i < mouseEventProps.length; i++) {\n        if (initMove[mouseEventProps[i]] !== undefined) settings[mouseEventProps[i]] = initMove[mouseEventProps[i]];\n    }\n\n    return settings;\n}\n\nfunction setSpecial(e, data) {\n    console.log('data ', data);\n    e.data = data || {};\n    e.dispatched = 'mousemove';\n}\n\n/*\nhttp://marcgrabanski.com/simulating-mouse-click-events-in-javascript/\n*/\n\nexport default createDispatcher;\n//# sourceMappingURL=bundle.es.js.map\n","import {boolean} from 'type-func';\nimport {\n    requestAnimationFrame as requestFrame,\n    cancelAnimationFrame as cancelFrame\n} from 'animation-frame-polyfill';\nimport {\n    hasElement,\n    addElements,\n    removeElements\n} from 'dom-set';\n\nimport {\n    createPointCB,\n    getClientRect as getRect,\n    pointInside\n} from 'dom-plane';\n\nimport mousemoveDispatcher from 'dom-mousemove-dispatcher';\n\nfunction AutoScroller(elements, options = {}){\n    const self = this;\n    let maxSpeed = 4, scrolling = false;\n\n    this.margin = options.margin || -1;\n    //this.scrolling = false;\n    this.scrollWhenOutside = options.scrollWhenOutside || false;\n\n    let point = {},\n        pointCB = createPointCB(point),\n        dispatcher = mousemoveDispatcher(),\n        down = false;\n\n    window.addEventListener('mousemove', pointCB, false);\n    window.addEventListener('touchmove', pointCB, false);\n\n    if(!isNaN(options.maxSpeed)){\n        maxSpeed = options.maxSpeed;\n    }\n\n    this.autoScroll = boolean(options.autoScroll);\n    this.syncMove = boolean(options.syncMove, false);\n\n    this.destroy = function() {\n        window.removeEventListener('mousemove', pointCB, false);\n        window.removeEventListener('touchmove', pointCB, false);\n        window.removeEventListener('mousedown', onDown, false);\n        window.removeEventListener('touchstart', onDown, false);\n        window.removeEventListener('mouseup', onUp, false);\n        window.removeEventListener('touchend', onUp, false);\n\n        window.removeEventListener('mousemove', onMove, false);\n        window.removeEventListener('touchmove', onMove, false);\n\n        window.removeEventListener('scroll', setScroll, true);\n        elements = [];\n    };\n\n    this.add = function(...element){\n        addElements(elements, ...element);\n        return this;\n    };\n\n    this.remove = function(...element){\n        return removeElements(elements, ...element);\n    };\n\n    let hasWindow = null, windowAnimationFrame;\n\n    if(Object.prototype.toString.call(elements) !== '[object Array]'){\n        elements = [elements];\n    }\n\n    (function(temp){\n        elements = [];\n        temp.forEach(function(element){\n            if(element === window){\n                hasWindow = window;\n            }else{\n                self.add(element);\n            }\n        })\n    }(elements));\n\n    Object.defineProperties(this, {\n        down: {\n            get: function(){ return down; }\n        },\n        maxSpeed: {\n            get: function(){ return maxSpeed; }\n        },\n        point: {\n            get: function(){ return point; }\n        },\n        scrolling: {\n            get: function(){ return scrolling; }\n        }\n    });\n\n    let n = 0, current = null, animationFrame;\n\n    window.addEventListener('mousedown', onDown, false);\n    window.addEventListener('touchstart', onDown, false);\n    window.addEventListener('mouseup', onUp, false);\n    window.addEventListener('touchend', onUp, false);\n\n    window.addEventListener('mousemove', onMove, false);\n    window.addEventListener('touchmove', onMove, false);\n\n    window.addEventListener('mouseleave', onMouseOut, false);\n\n    window.addEventListener('scroll', setScroll, true);\n\n    function setScroll(e){\n\n        for(let i=0; i<elements.length; i++){\n            if(elements[i] === e.target){\n                scrolling = true;\n                break;\n            }\n        }\n\n        if(scrolling){\n            requestFrame(()=>scrolling = false)\n        }\n    }\n\n    function onDown(){\n        down = true;\n    }\n\n    function onUp(){\n        down = false;\n        cancelFrame(animationFrame);\n        cancelFrame(windowAnimationFrame)\n    }\n\n    function onMouseOut(){\n        down = false;\n    }\n\n    function getTarget(target){\n        if(!target){\n            return null;\n        }\n\n        if(current === target){\n            return target;\n        }\n\n        if(hasElement(elements, target)){\n            return target;\n        }\n\n        while(target = target.parentNode){\n            if(hasElement(elements, target)){\n                return target;\n            }\n        }\n\n        return null;\n    }\n\n    function getElementUnderPoint(){\n        let underPoint = null;\n\n        for(var i=0; i<elements.length; i++){\n            if(inside(point, elements[i])){\n                underPoint = elements[i];\n            }\n        }\n\n        return underPoint;\n    }\n\n\n    function onMove(event){\n\n        if(!self.autoScroll()) return;\n\n        if(event['dispatched']){ return; }\n\n        let target = event.target, body = document.body;\n\n        if(current && !inside(point, current)){\n            if(!self.scrollWhenOutside){\n                current = null;\n            }\n        }\n\n        if(target && target.parentNode === body){\n            //The special condition to improve speed.\n            target = getElementUnderPoint();\n        }else{\n            target = getTarget(target);\n\n            if(!target){\n                target = getElementUnderPoint();\n            }\n        }\n\n\n        if(target && target !== current){\n            current = target;\n        }\n\n        if(hasWindow){\n            cancelFrame(windowAnimationFrame);\n            windowAnimationFrame = requestFrame(scrollWindow);\n        }\n\n\n        if(!current){\n            return;\n        }\n\n        cancelFrame(animationFrame);\n        animationFrame = requestFrame(scrollTick);\n    }\n\n    function scrollWindow(){\n        autoScroll(hasWindow);\n\n        cancelFrame(windowAnimationFrame);\n        windowAnimationFrame = requestFrame(scrollWindow);\n    }\n\n    function scrollTick(){\n\n        if(!current){\n            return;\n        }\n\n        autoScroll(current);\n\n        cancelFrame(animationFrame);\n        animationFrame = requestFrame(scrollTick);\n\n    }\n\n\n    function autoScroll(el){\n        let rect = getRect(el), scrollx, scrolly;\n\n        if(point.x < rect.left + self.margin){\n            scrollx = Math.floor(\n                Math.max(-1, (point.x - rect.left) / self.margin - 1) * self.maxSpeed\n            );\n        }else if(point.x > rect.right - self.margin){\n            scrollx = Math.ceil(\n                Math.min(1, (point.x - rect.right) / self.margin + 1) * self.maxSpeed\n            );\n        }else{\n            scrollx = 0;\n        }\n\n        if(point.y < rect.top + self.margin){\n            scrolly = Math.floor(\n                Math.max(-1, (point.y - rect.top) / self.margin - 1) * self.maxSpeed\n            );\n        }else if(point.y > rect.bottom - self.margin){\n            scrolly = Math.ceil(\n                Math.min(1, (point.y - rect.bottom) / self.margin + 1) * self.maxSpeed\n            );\n        }else{\n            scrolly = 0;\n        }\n\n        if(self.syncMove()){\n            /*\n            Notes about mousemove event dispatch.\n            screen(X/Y) should need to be updated.\n            Some other properties might need to be set.\n            Keep the syncMove option default false until all inconsistencies are taken care of.\n            */\n            dispatcher.dispatch(el, {\n                pageX: point.pageX + scrollx,\n                pageY: point.pageY + scrolly,\n                clientX: point.x + scrollx,\n                clientY: point.y + scrolly\n            });\n        }\n\n        setTimeout(()=>{\n\n            if(scrolly){\n                scrollY(el, scrolly);\n            }\n\n            if(scrollx){\n                scrollX(el, scrollx);\n            }\n\n        });\n    }\n\n    function scrollY(el, amount){\n        if(el === window){\n            window.scrollTo(el.pageXOffset, el.pageYOffset + amount);\n        }else{\n            el.scrollTop += amount;\n        }\n    }\n\n    function scrollX(el, amount){\n        if(el === window){\n            window.scrollTo(el.pageXOffset + amount, el.pageYOffset);\n        }else{\n            el.scrollLeft += amount;\n        }\n    }\n\n}\n\nexport default function AutoScrollerFactory(element, options){\n    return new AutoScroller(element, options);\n}\n\nfunction inside(point, el, rect){\n    if(!rect){\n        return pointInside(point, el);\n    }else{\n        return (point.y > rect.top && point.y < rect.bottom &&\n                point.x > rect.left && point.x < rect.right);\n    }\n}\n\n/*\ngit remote add origin https://github.com/hollowdoor/dom_autoscroller.git\ngit push -u origin master\n*/\n"],"names":["getDef","f","d","boolean","func","def","_len","arguments","length","args","Array","_key","apply","prefix","requestAnimationFrame","i","limit","window","lastTime","callback","now","Date","getTime","ttc","Math","max","timer","setTimeout","bind","cancelAnimationFrame","clearTimeout","_typeof","Symbol","iterator","obj","constructor","input","nodeType","style","ownerDocument","module","indexOfElement","elements","element","resolveElement","isElement","hasElement","pushElements","toAdd","push","addElements","_len2","_key2","map","removeElements","_len3","toRemove","_key3","reduce","last","e","index","concat","splice","noThrow","document","querySelector","TypeError","createPointCB","object","options","allowUpdate","pointCB","event","target","srcElement","originalTarget","type","targetTouches","x","clientX","y","clientY","pageX","pageY","eventDoc","doc","documentElement","body","scrollLeft","clientLeft","scrollTop","clientTop","createWindowRect","props","value","enumerable","innerWidth","innerHeight","Object","create","rect","defineProperties","getClientRect","el","getBoundingClientRect","undefined","left","top","pointInside","point","bottom","right","objectCreate","Temp","prototype","propertiesObject","result","__proto__","objectCreate$1","mouseEventProps","createDispatcher","defaultSettings","addEventListener","onMove","dispatch","MouseEvent","m1","initMove","data","evt","createMoveInit","dispatchEvent","createEvent","m2","settings","initMouseEvent","screenX","screenY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","createEventObject","m3","name","destroy","removeEventListener","setSpecial","log","dispatched","AutoScroller","self","maxSpeed","scrolling","margin","scrollWhenOutside","dispatcher","mousemoveDispatcher","down","isNaN","autoScroll","syncMove","onDown","onUp","setScroll","add","remove","hasWindow","windowAnimationFrame","toString","call","temp","forEach","n","current","animationFrame","onMouseOut","getTarget","parentNode","getElementUnderPoint","underPoint","inside","requestFrame","scrollWindow","scrollTick","getRect","scrollx","scrolly","floor","ceil","min","scrollY","amount","scrollTo","pageXOffset","pageYOffset","scrollX","AutoScrollerFactory"],"mappings":"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"}