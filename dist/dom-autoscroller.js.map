{"version":3,"file":null,"sources":["../node_modules/create-point-cb/index.js","../src/index.js"],"sourcesContent":["module.exports = function createPointCB(object){\n\n    // A persistent object (as opposed to returned object) is used to save memory\n    // This is good to prevent layout thrashing, or for games, and such\n\n    // NOTE\n    // This uses IE fixes which should be OK to remove some day. :)\n    // Some speed will be gained by removal of these.\n\n    // pointCB should be saved in a variable on return\n    // This allows the usage of element.removeEventListener\n\n    return function pointCB(event){\n\n        event = event || window.event; // IE-ism\n        object.target = event.target || event.srcElement || event.originalTarget;\n        object.element = this;\n        object.type = event.type;\n\n        // Support touch\n        // http://www.creativebloq.com/javascript/make-your-site-work-touch-devices-51411644\n\n        if(event.targetTouches){\n            object.x = event.targetTouches[0].clientX;\n            object.y = event.targetTouches[0].clientY;\n            object.pageX = event.pageX;\n            object.pageY = event.pageY;\n        }else{\n\n            // If pageX/Y aren't available and clientX/Y are,\n            // calculate pageX/Y - logic taken from jQuery.\n            // (This is to support old IE)\n            // NOTE Hopefully this can be removed soon.\n\n            if (event.pageX === null && event.clientX !== null) {\n                var eventDoc = (event.target && event.target.ownerDocument) || document;\n                var doc = eventDoc.documentElement;\n                var body = eventDoc.body;\n\n                object.pageX = event.clientX +\n                  (doc && doc.scrollLeft || body && body.scrollLeft || 0) -\n                  (doc && doc.clientLeft || body && body.clientLeft || 0);\n                object.pageY = event.clientY +\n                  (doc && doc.scrollTop  || body && body.scrollTop  || 0) -\n                  (doc && doc.clientTop  || body && body.clientTop  || 0 );\n            }else{\n                object.pageX = event.pageX;\n                object.pageY = event.pageY;\n            }\n\n            // pageX, and pageY change with page scroll\n            // so we're not going to use those for x, and y.\n            // NOTE Most browsers also alias clientX/Y with x/y\n            // so that's something to consider down the road.\n\n            object.x = event.clientX;\n            object.y = event.clientY;\n        }\n\n    };\n\n    //NOTE Remember accessibility, Aria roles, and labels.\n};\n\n/*\ngit remote add origin https://github.com/hollowdoor/create_point_cb.git\ngit push -u origin master\n*/\n","import createPointCB from 'create-point-cb';\n\nconst requestFrame = (function(){\n    if(requestAnimationFrame){\n        return requestAnimationFrame;\n    }else{\n        return function(fn){\n            return setTimeout(fn);\n        };\n    }\n}());\n\nconst cancelFrame = (function(){\n    if(cancelAnimationFrame){\n        return cancelAnimationFrame;\n    }else{\n        return clearTimeout;\n    }\n}());\n\nfunction AutoScroller(elements, options = {}){\n    const self = this;\n    let maxSpeed = 4, scrolling = false;\n\n    this.margin = options.margin || -1;\n    //this.scrolling = false;\n    this.scrollWhenOutside = options.scrollWhenOutside || false;\n\n    let point = {}, pointCB = createPointCB(point), down = false;\n\n    window.addEventListener('mousemove', pointCB, false);\n    window.addEventListener('touchmove', pointCB, false);\n\n    if(!isNaN(options.maxSpeed)){\n        maxSpeed = options.maxSpeed;\n    }\n\n    if(typeof options.autoScroll === 'boolean'){\n        this.autoScroll = options.autoScroll ? ()=>true : ()=>false;\n    }else if(typeof options.autoScroll === 'undefined'){\n        this.autoScroll = function(){return false;};\n    }else if(typeof options.autoScroll === 'function'){\n        this.autoScroll = options.autoScroll;\n    }\n\n    this.destroy = function() {\n        window.removeEventListener('mousemove', pointCB, false);\n        window.removeEventListener('touchmove', pointCB, false);\n        window.removeEventListener('mousedown', onDown, false);\n        window.removeEventListener('touchstart', onDown, false);\n        window.removeEventListener('mouseup', onUp, false);\n        window.removeEventListener('touchend', onUp, false);\n\n        window.removeEventListener('scroll', setScroll, true);\n        elements = [];\n    };\n\n    function getElement(element){\n        if(typeof element === 'string'){\n            return document.querySelector(element);\n        }\n        return element;\n    }\n\n    this.add = function(element){\n        element = getElement(element);\n\n        for(var i=0; i<elements.length; i++){\n            if(elements[i] === element) return this;\n        }\n\n        elements.push(element);\n        return this;\n    };\n\n    this.remove = function(element){\n        element = getElement(element);\n\n        for(var i=0; i<elements.length; i++){\n            if(element === elements[i]){\n                elements.splice(i, 1);\n                return this;\n            }\n        }\n        return this;\n    };\n\n    let hasWindow = null, windowAnimationFrame;\n\n    if(Object.prototype.toString.call(elements) !== '[object Array]'){\n        elements = [elements];\n    }\n\n    (function(temp){\n        elements = [];\n        temp.forEach(function(element){\n            if(element === window){\n                hasWindow = window;\n            }else{\n                self.add(element);\n            }\n        })\n    }(elements));\n\n    Object.defineProperties(this, {\n        down: {\n            get: function(){ return down; }\n        },\n        maxSpeed: {\n            get: function(){ return maxSpeed; }\n        },\n        point: {\n            get: function(){ return point; }\n        },\n        scrolling: {\n            get: function(){ return scrolling; }\n        }\n    });\n\n    let n = 0, current = null, animationFrame;\n\n    window.addEventListener('mousedown', onDown, false);\n    window.addEventListener('touchstart', onDown, false);\n    window.addEventListener('mouseup', onUp, false);\n    window.addEventListener('touchend', onUp, false);\n\n    window.addEventListener('mousemove', onMove, false);\n    window.addEventListener('touchmove', onMove, false);\n\n    window.addEventListener('mouseleave', onMouseOut, false);\n\n    window.addEventListener('scroll', setScroll, true);\n\n    function setScroll(e){\n\n        for(let i=0; i<elements.length; i++){\n            if(elements[i] === e.target){\n                scrolling = true;\n                break;\n            }\n        }\n\n        if(scrolling){\n            requestAnimationFrame(()=>scrolling = false)\n        }\n    }\n\n    function onDown(){\n        down = true;\n    }\n\n    function onUp(){\n        down = false;\n        cancelFrame(animationFrame);\n        cancelFrame(windowAnimationFrame)\n    }\n\n    function onMouseOut(){\n        down = false;\n    }\n\n    function getTarget(target){\n        if(!target){\n            return null;\n        }\n\n        if(current === target){\n            return target;\n        }\n\n        for(var i=0; i<elements.length; i++){\n            if(elements[i] === target){\n                return target;\n            }\n        }\n\n        while(target = target.parentNode){\n            for(var i=0; i<elements.length; i++){\n                if(elements[i] === target){\n                    return target;\n                }\n            }\n        }\n\n        return null;\n    }\n\n    function getElementUnderPoint(){\n        let underPoint = null;\n\n        for(var i=0; i<elements.length; i++){\n            if(inside(point, elements[i])){\n                underPoint = elements[i];\n            }\n        }\n\n        return underPoint;\n    }\n\n\n    function onMove(event){\n\n        if(!self.autoScroll()) return;\n        let target = event.target, body = document.body;\n\n        if(current && !inside(point, current)){\n            if(!self.scrollWhenOutside){\n                current = null;\n            }\n        }\n\n        if(target && target.parentNode === body){\n            //The special condition to improve speed.\n            target = getElementUnderPoint();\n        }else{\n            target = getTarget(target);\n\n            if(!target){\n                target = getElementUnderPoint();\n            }\n        }\n\n\n        if(target && target !== current){\n            current = target;\n        }\n\n        if(hasWindow){\n            cancelFrame(windowAnimationFrame);\n            windowAnimationFrame = requestFrame(scrollWindow);\n        }\n\n\n        if(!current){\n            return;\n        }\n\n        cancelFrame(animationFrame);\n        animationFrame = requestFrame(scrollTick);\n    }\n\n    function scrollWindow(){\n        autoScroll(hasWindow);\n\n        cancelFrame(windowAnimationFrame);\n        windowAnimationFrame = requestFrame(scrollWindow);\n    }\n\n    function scrollTick(){\n\n        if(!current){\n            return;\n        }\n\n        autoScroll(current);\n\n        cancelFrame(animationFrame);\n        animationFrame = requestFrame(scrollTick);\n\n    }\n\n\n    function autoScroll(el){\n        let rect = getRect(el), scrollx, scrolly;\n\n        if(point.x < rect.left + self.margin){\n            scrollx = Math.floor(\n                Math.max(-1, (point.x - rect.left) / self.margin - 1) * self.maxSpeed\n            );\n        }else if(point.x > rect.right - self.margin){\n            scrollx = Math.ceil(\n                Math.min(1, (point.x - rect.right) / self.margin + 1) * self.maxSpeed\n            );\n        }else{\n            scrollx = 0;\n        }\n\n        if(point.y < rect.top + self.margin){\n            scrolly = Math.floor(\n                Math.max(-1, (point.y - rect.top) / self.margin - 1) * self.maxSpeed\n            );\n        }else if(point.y > rect.bottom - self.margin){\n            scrolly = Math.ceil(\n                Math.min(1, (point.y - rect.bottom) / self.margin + 1) * self.maxSpeed\n            );\n        }else{\n            scrolly = 0;\n        }\n\n        setTimeout(()=>{\n\n            if(scrolly){\n                scrollY(el, scrolly);\n            }\n\n            if(scrollx){\n                scrollX(el, scrollx);\n            }\n\n        });\n    }\n\n    function scrollY(el, amount){\n        if(el === window){\n            window.scrollTo(el.pageXOffset, el.pageYOffset + amount);\n        }else{\n            el.scrollTop += amount;\n        }\n    }\n\n    function scrollX(el, amount){\n        if(el === window){\n            window.scrollTo(el.pageXOffset + amount, el.pageYOffset);\n        }else{\n            el.scrollLeft += amount;\n        }\n    }\n\n}\n\nexport default function AutoScrollerFactory(element, options){\n    return new AutoScroller(element, options);\n}\n\nfunction getRect(el){\n    if(el === window){\n        return {\n            top: 0,\n            left: 0,\n            right: window.innerWidth,\n            bottom: window.innerHeight,\n            width: window.innerWidth,\n            height: window.innerHeight\n        };\n\n    }else{\n        try{\n            return el.getBoundingClientRect();\n        }catch(e){\n            throw new TypeError(\"Can't call getBoundingClientRect on \"+el);\n        }\n\n    }\n}\n\nfunction inside(point, el, rect){\n    rect = rect || getRect(el);\n    return (point.y > rect.top && point.y < rect.bottom &&\n            point.x > rect.left && point.x < rect.right);\n}\n\n/*\ngit remote add origin https://github.com/hollowdoor/dom_autoscroller.git\ngit push -u origin master\n*/\n"],"names":["module","createPointCB","object","pointCB","event","window","target","srcElement","originalTarget","element","type","targetTouches","x","clientX","y","clientY","pageX","pageY","eventDoc","ownerDocument","document","doc","documentElement","body","scrollLeft","clientLeft","scrollTop","clientTop","requestFrame","requestAnimationFrame","fn","setTimeout","cancelFrame","cancelAnimationFrame","clearTimeout","AutoScroller","elements","options","self","maxSpeed","scrolling","margin","scrollWhenOutside","point","down","addEventListener","isNaN","autoScroll","destroy","removeEventListener","onDown","onUp","setScroll","getElement","querySelector","add","i","length","push","remove","splice","hasWindow","windowAnimationFrame","Object","prototype","toString","call","temp","forEach","defineProperties","get","n","current","animationFrame","onMove","onMouseOut","e","getTarget","parentNode","getElementUnderPoint","underPoint","inside","scrollWindow","scrollTick","el","rect","getRect","scrollx","scrolly","left","Math","floor","max","right","ceil","min","top","bottom","scrollY","scrollX","amount","scrollTo","pageXOffset","pageYOffset","AutoScrollerFactory","innerWidth","innerHeight","width","height","getBoundingClientRect","TypeError"],"mappings":"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"}