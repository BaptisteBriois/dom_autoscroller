{"version":3,"file":null,"sources":["../src/index.js"],"sourcesContent":["import createPointCB from 'create-point-cb';\n\nconst requestFrame = (function(){\n    if(requestAnimationFrame){\n        return requestAnimationFrame;\n    }else{\n        return function(fn){\n            return setTimeout(fn);\n        };\n    }\n}());\n\nconst cancelFrame = (function(){\n    if(cancelAnimationFrame){\n        return cancelAnimationFrame;\n    }else{\n        return clearTimeout;\n    }\n}());\n\nfunction AutoScroller(elements, options = {}){\n    const self = this;\n    let maxSpeed = 4;\n\n    this.margin = options.margin || -1;\n    this.scrolling = false;\n    this.scrollWhenOutside = options.scrollWhenOutside || false;\n\n    let point = {}, pointCB = createPointCB(point), down = false;\n\n    window.addEventListener('mousemove', pointCB, false);\n    window.addEventListener('touchmove', pointCB, false);\n\n    if(!isNaN(options.maxSpeed)){\n        maxSpeed = options.maxSpeed;\n    }\n\n    if(typeof options.autoScroll === 'boolean'){\n        this.autoScroll = options.autoScroll ? ()=>true : ()=>false;\n    }else if(typeof options.autoScroll === 'undefined'){\n        this.autoScroll = function(){return false;};\n    }else if(typeof options.autoScroll === 'function'){\n        this.autoScroll = options.autoScroll;\n    }\n\n    this.destroy = function() {\n        window.removeEventListener('mousemove', pointCB, false);\n        window.removeEventListener('touchmove', pointCB, false);\n        window.removeEventListener('mousedown', onDown, false);\n        window.removeEventListener('touchstart', onDown, false);\n        window.removeEventListener('mouseup', onUp, false);\n        window.removeEventListener('touchend', onUp, false);\n        elements = [];\n    };\n\n    function getElement(element){\n        if(typeof element === 'string'){\n            return document.querySelector(element);\n        }\n        return element;\n    }\n\n    this.add = function(element){\n        element = getElement(element);\n\n        for(var i=0; i<elements.length; i++){\n            if(elements[i] === element) return this;\n        }\n\n        elements.push(element);\n        return this;\n    };\n\n    this.remove = function(element){\n        element = getElement(element);\n\n        for(var i=0; i<elements.length; i++){\n            if(element === elements[i]){\n                elements.splice(i, 1);\n                return this;\n            }\n        }\n        return this;\n    };\n\n    let hasWindow = null;\n\n    (function(temp){\n        elements = [];\n        temp.forEach(function(element){\n            if(element === window){\n                hasWindow = window;\n            }else{\n                self.add(element);\n            }\n        })\n    }(elements));\n\n    Object.defineProperties(this, {\n        down: {\n            get: function(){ return down; }\n        },\n        maxSpeed: {\n            get: function(){ return maxSpeed; }\n        }\n    });\n\n    let n = 0, current, animationFrame, started = false;\n\n    window.addEventListener('mousedown', onDown, false);\n    window.addEventListener('touchstart', onDown, false);\n    window.addEventListener('mouseup', onUp, false);\n    window.addEventListener('touchend', onUp, false);\n\n    window.addEventListener('mousemove', onMove, false);\n    window.addEventListener('touchmove', onMove, false);\n\n    function onDown(){\n        down = true;\n    }\n\n    function onUp(){\n        down = false;\n        started = false;\n        cancelFrame(animationFrame);\n    }\n\n    function onMove(event){\n\n        if(!self.autoScroll()) return;\n        if(!event.target) return;\n        let target = event.target, last;\n\n        if(!current || !inside(point, current) && !self.scrollWhenOutside){\n            if(!current && target){\n                current = null;\n                while(target = target.parentNode){\n                    for(var i=0; i<elements.length; i++){\n                        if(elements[i] === target && inside(point, elements[i])){\n                            current = elements[i];\n                            break;\n                        }\n                    }\n                }\n            }else{\n                last = current;\n                current = null;\n                for(var i=0; i<elements.length; i++){\n                    if(elements[i] !== last && inside(point, elements[i])){\n                        current = elements[i];\n                    }\n                }\n            }\n        }\n\n        cancelFrame(animationFrame);\n        animationFrame = requestFrame(scrollTick);\n    }\n\n    function scrollTick(){\n        if(hasWindow){\n            autoScroll(hasWindow);\n        }\n\n        if(!current){\n            return;\n        }\n\n        autoScroll(current);\n\n        cancelFrame(animationFrame);\n        animationFrame = requestFrame(scrollTick);\n\n    }\n\n    function autoScroll(el){\n        let rect = getRect(el), scrollx, scrolly;\n\n        if(point.x < rect.left + self.margin){\n            scrollx = Math.floor(\n                Math.max(-1, (point.x - rect.left) / self.margin - 1) * self.maxSpeed\n            );\n        }else if(point.x > rect.right - self.margin){\n            scrollx = Math.ceil(\n                Math.min(1, (point.x - rect.right) / self.margin + 1) * self.maxSpeed\n            );\n        }else{\n            scrollx = 0;\n        }\n\n        if(point.y < rect.top + self.margin){\n            scrolly = Math.floor(\n                Math.max(-1, (point.y - rect.top) / self.margin - 1) * self.maxSpeed\n            );\n        }else if(point.y > rect.bottom - self.margin){\n            scrolly = Math.ceil(\n                Math.min(1, (point.y - rect.bottom) / self.margin + 1) * self.maxSpeed\n            );\n        }else{\n            scrolly = 0;\n        }\n\n        setTimeout(()=>{\n\n            if(scrolly){\n                scrollY(el, scrolly);\n            }\n\n            if(scrollx){\n                scrollX(el, scrollx);\n            }\n\n        });\n    }\n\n    function scrollY(el, amount){\n        if(el === window){\n            window.scrollTo(el.pageXOffset, el.pageYOffset + amount);\n        }else{\n            //el.scrollTop = el.scrollTop + amount;\n            el.scrollTop += amount;\n        }\n    }\n\n    function scrollX(el, amount){\n        if(el === window){\n            window.scrollTo(el.pageXOffset + amount, el.pageYOffset);\n        }else{\n            //el.scrollLeft = el.scrollLeft + amount;\n            el.scrollLeft += amount;\n        }\n    }\n\n}\n\nexport default function AutoScrollerFactory(element, options){\n    return new AutoScroller(element, options);\n}\n\nfunction getRect(el){\n    if(el === window){\n        return {\n            top: 0,\n            left: 0,\n            right: window.innerWidth,\n            bottom: window.innerHeight,\n            width: window.innerWidth,\n            height: window.innerHeight\n        };\n\n    }else{\n        try{\n            return el.getBoundingClientRect();\n        }catch(e){\n            throw new TypeError(\"Can't call getBoundingClientRect on \"+el);\n        }\n\n    }\n}\n\nfunction inside(point, el, rect){\n    rect = rect || getRect(el);\n    return (point.y > rect.top && point.y < rect.bottom &&\n            point.x > rect.left && point.x < rect.right);\n}\n\n/*\ngit remote add origin https://github.com/hollowdoor/dom_autoscroller.git\ngit push -u origin master\n*/\n"],"names":["requestFrame","requestAnimationFrame","fn","setTimeout","cancelFrame","cancelAnimationFrame","clearTimeout","AutoScroller","elements","options","self","maxSpeed","margin","scrolling","scrollWhenOutside","point","pointCB","createPointCB","down","window","addEventListener","isNaN","autoScroll","destroy","removeEventListener","onDown","onUp","getElement","element","document","querySelector","add","i","length","push","remove","splice","hasWindow","temp","forEach","Object","defineProperties","get","n","current","animationFrame","started","onMove","event","target","last","inside","parentNode","scrollTick","el","rect","getRect","scrollx","scrolly","x","left","Math","floor","max","right","ceil","min","y","top","bottom","scrollY","scrollX","amount","scrollTo","pageXOffset","pageYOffset","scrollTop","scrollLeft","AutoScrollerFactory","innerWidth","innerHeight","width","height","getBoundingClientRect","e","TypeError"],"mappings":";;;;;IAEA,IAAMA,eAAgB,YAAU;AAC5B,IAAA,QAAGC,qBAAH,EAAyB;AACrB,IAAA,eAAOA,qBAAP;AACH,IAAA,KAFD,MAEK;AACD,IAAA,eAAO,UAASC,EAAT,EAAY;AACf,IAAA,mBAAOC,WAAWD,EAAX,CAAP;AACH,IAAA,SAFD;AAGH,IAAA;AACJ,IAAA,CARqB,EAAtB;;AAUA,IAAA,IAAME,cAAe,YAAU;AAC3B,IAAA,QAAGC,oBAAH,EAAwB;AACpB,IAAA,eAAOA,oBAAP;AACH,IAAA,KAFD,MAEK;AACD,IAAA,eAAOC,YAAP;AACH,IAAA;AACJ,IAAA,CANoB,EAArB;;AAQA,IAAA,SAASC,YAAT,CAAsBC,QAAtB,EAA6C;AAAA,IAAA,QAAbC,OAAa,uEAAH,EAAG;;AACzC,IAAA,QAAMC,OAAO,IAAb;AACA,IAAA,QAAIC,WAAW,CAAf;;AAEA,IAAA,SAAKC,MAAL,GAAcH,QAAQG,MAAR,IAAkB,CAAC,CAAjC;AACA,IAAA,SAAKC,SAAL,GAAiB,KAAjB;AACA,IAAA,SAAKC,iBAAL,GAAyBL,QAAQK,iBAAR,IAA6B,KAAtD;;AAEA,IAAA,QAAIC,QAAQ,EAAZ;AAAA,IAAA,QAAgBC,UAAUC,cAAcF,KAAd,CAA1B;AAAA,IAAA,QAAgDG,OAAO,KAAvD;;AAEAC,IAAAA,WAAOC,gBAAP,CAAwB,WAAxB,EAAqCJ,OAArC,EAA8C,KAA9C;AACAG,IAAAA,WAAOC,gBAAP,CAAwB,WAAxB,EAAqCJ,OAArC,EAA8C,KAA9C;;AAEA,IAAA,QAAG,CAACK,MAAMZ,QAAQE,QAAd,CAAJ,EAA4B;AACxBA,IAAAA,mBAAWF,QAAQE,QAAnB;AACH,IAAA;;AAED,IAAA,QAAG,OAAOF,QAAQa,UAAf,KAA8B,SAAjC,EAA2C;AACvC,IAAA,aAAKA,UAAL,GAAkBb,QAAQa,UAAR,GAAqB;AAAA,IAAA,mBAAI,IAAJ;AAAA,IAAA,SAArB,GAAgC;AAAA,IAAA,mBAAI,KAAJ;AAAA,IAAA,SAAlD;AACH,IAAA,KAFD,MAEM,IAAG,OAAOb,QAAQa,UAAf,KAA8B,WAAjC,EAA6C;AAC/C,IAAA,aAAKA,UAAL,GAAkB,YAAU;AAAC,IAAA,mBAAO,KAAP;AAAc,IAAA,SAA3C;AACH,IAAA,KAFK,MAEA,IAAG,OAAOb,QAAQa,UAAf,KAA8B,UAAjC,EAA4C;AAC9C,IAAA,aAAKA,UAAL,GAAkBb,QAAQa,UAA1B;AACH,IAAA;;AAED,IAAA,SAAKC,OAAL,GAAe,YAAW;AACtBJ,IAAAA,eAAOK,mBAAP,CAA2B,WAA3B,EAAwCR,OAAxC,EAAiD,KAAjD;AACAG,IAAAA,eAAOK,mBAAP,CAA2B,WAA3B,EAAwCR,OAAxC,EAAiD,KAAjD;AACAG,IAAAA,eAAOK,mBAAP,CAA2B,WAA3B,EAAwCC,MAAxC,EAAgD,KAAhD;AACAN,IAAAA,eAAOK,mBAAP,CAA2B,YAA3B,EAAyCC,MAAzC,EAAiD,KAAjD;AACAN,IAAAA,eAAOK,mBAAP,CAA2B,SAA3B,EAAsCE,IAAtC,EAA4C,KAA5C;AACAP,IAAAA,eAAOK,mBAAP,CAA2B,UAA3B,EAAuCE,IAAvC,EAA6C,KAA7C;AACAlB,IAAAA,mBAAW,EAAX;AACH,IAAA,KARD;;AAUA,IAAA,aAASmB,UAAT,CAAoBC,OAApB,EAA4B;AACxB,IAAA,YAAG,OAAOA,OAAP,KAAmB,QAAtB,EAA+B;AAC3B,IAAA,mBAAOC,SAASC,aAAT,CAAuBF,OAAvB,CAAP;AACH,IAAA;AACD,IAAA,eAAOA,OAAP;AACH,IAAA;;AAED,IAAA,SAAKG,GAAL,GAAW,UAASH,OAAT,EAAiB;AACxBA,IAAAA,kBAAUD,WAAWC,OAAX,CAAV;;AAEA,IAAA,aAAI,IAAII,IAAE,CAAV,EAAaA,IAAExB,SAASyB,MAAxB,EAAgCD,GAAhC,EAAoC;AAChC,IAAA,gBAAGxB,SAASwB,CAAT,MAAgBJ,OAAnB,EAA4B,OAAO,IAAP;AAC/B,IAAA;;AAEDpB,IAAAA,iBAAS0B,IAAT,CAAcN,OAAd;AACA,IAAA,eAAO,IAAP;AACH,IAAA,KATD;;AAWA,IAAA,SAAKO,MAAL,GAAc,UAASP,OAAT,EAAiB;AAC3BA,IAAAA,kBAAUD,WAAWC,OAAX,CAAV;;AAEA,IAAA,aAAI,IAAII,IAAE,CAAV,EAAaA,IAAExB,SAASyB,MAAxB,EAAgCD,GAAhC,EAAoC;AAChC,IAAA,gBAAGJ,YAAYpB,SAASwB,CAAT,CAAf,EAA2B;AACvBxB,IAAAA,yBAAS4B,MAAT,CAAgBJ,CAAhB,EAAmB,CAAnB;AACA,IAAA,uBAAO,IAAP;AACH,IAAA;AACJ,IAAA;AACD,IAAA,eAAO,IAAP;AACH,IAAA,KAVD;;AAYA,IAAA,QAAIK,YAAY,IAAhB;;AAEC,IAAA,eAASC,IAAT,EAAc;AACX9B,IAAAA,mBAAW,EAAX;AACA8B,IAAAA,aAAKC,OAAL,CAAa,UAASX,OAAT,EAAiB;AAC1B,IAAA,gBAAGA,YAAYT,MAAf,EAAsB;AAClBkB,IAAAA,4BAAYlB,MAAZ;AACH,IAAA,aAFD,MAEK;AACDT,IAAAA,qBAAKqB,GAAL,CAASH,OAAT;AACH,IAAA;AACJ,IAAA,SAND;AAOH,IAAA,KATA,EASCpB,QATD,CAAD;;AAWAgC,IAAAA,WAAOC,gBAAP,CAAwB,IAAxB,EAA8B;AAC1BvB,IAAAA,cAAM;AACFwB,IAAAA,iBAAK,eAAU;AAAE,IAAA,uBAAOxB,IAAP;AAAc,IAAA;AAD7B,IAAA,SADoB;AAI1BP,IAAAA,kBAAU;AACN+B,IAAAA,iBAAK,eAAU;AAAE,IAAA,uBAAO/B,QAAP;AAAkB,IAAA;AAD7B,IAAA;AAJgB,IAAA,KAA9B;;AASA,IAAA,QAAIgC,IAAI,CAAR;AAAA,IAAA,QAAWC,gBAAX;AAAA,IAAA,QAAoBC,uBAApB;AAAA,IAAA,QAAoCC,UAAU,KAA9C;;AAEA3B,IAAAA,WAAOC,gBAAP,CAAwB,WAAxB,EAAqCK,MAArC,EAA6C,KAA7C;AACAN,IAAAA,WAAOC,gBAAP,CAAwB,YAAxB,EAAsCK,MAAtC,EAA8C,KAA9C;AACAN,IAAAA,WAAOC,gBAAP,CAAwB,SAAxB,EAAmCM,IAAnC,EAAyC,KAAzC;AACAP,IAAAA,WAAOC,gBAAP,CAAwB,UAAxB,EAAoCM,IAApC,EAA0C,KAA1C;;AAEAP,IAAAA,WAAOC,gBAAP,CAAwB,WAAxB,EAAqC2B,MAArC,EAA6C,KAA7C;AACA5B,IAAAA,WAAOC,gBAAP,CAAwB,WAAxB,EAAqC2B,MAArC,EAA6C,KAA7C;;AAEA,IAAA,aAAStB,MAAT,GAAiB;AACbP,IAAAA,eAAO,IAAP;AACH,IAAA;;AAED,IAAA,aAASQ,IAAT,GAAe;AACXR,IAAAA,eAAO,KAAP;AACA4B,IAAAA,kBAAU,KAAV;AACA1C,IAAAA,oBAAYyC,cAAZ;AACH,IAAA;;AAED,IAAA,aAASE,MAAT,CAAgBC,KAAhB,EAAsB;;AAElB,IAAA,YAAG,CAACtC,KAAKY,UAAL,EAAJ,EAAuB;AACvB,IAAA,YAAG,CAAC0B,MAAMC,MAAV,EAAkB;AAClB,IAAA,YAAIA,SAASD,MAAMC,MAAnB;AAAA,IAAA,YAA2BC,aAA3B;;AAEA,IAAA,YAAG,CAACN,OAAD,IAAY,CAACO,OAAOpC,KAAP,EAAc6B,OAAd,CAAD,IAA2B,CAAClC,KAAKI,iBAAhD,EAAkE;AAC9D,IAAA,gBAAG,CAAC8B,OAAD,IAAYK,MAAf,EAAsB;AAClBL,IAAAA,0BAAU,IAAV;AACA,IAAA,uBAAMK,SAASA,OAAOG,UAAtB,EAAiC;AAC7B,IAAA,yBAAI,IAAIpB,IAAE,CAAV,EAAaA,IAAExB,SAASyB,MAAxB,EAAgCD,GAAhC,EAAoC;AAChC,IAAA,4BAAGxB,SAASwB,CAAT,MAAgBiB,MAAhB,IAA0BE,OAAOpC,KAAP,EAAcP,SAASwB,CAAT,CAAd,CAA7B,EAAwD;AACpDY,IAAAA,sCAAUpC,SAASwB,CAAT,CAAV;AACA,IAAA;AACH,IAAA;AACJ,IAAA;AACJ,IAAA;AACJ,IAAA,aAVD,MAUK;AACDkB,IAAAA,uBAAON,OAAP;AACAA,IAAAA,0BAAU,IAAV;AACA,IAAA,qBAAI,IAAIZ,IAAE,CAAV,EAAaA,IAAExB,SAASyB,MAAxB,EAAgCD,GAAhC,EAAoC;AAChC,IAAA,wBAAGxB,SAASwB,CAAT,MAAgBkB,IAAhB,IAAwBC,OAAOpC,KAAP,EAAcP,SAASwB,CAAT,CAAd,CAA3B,EAAsD;AAClDY,IAAAA,kCAAUpC,SAASwB,CAAT,CAAV;AACH,IAAA;AACJ,IAAA;AACJ,IAAA;AACJ,IAAA;;AAED5B,IAAAA,oBAAYyC,cAAZ;AACAA,IAAAA,yBAAiB7C,aAAaqD,UAAb,CAAjB;AACH,IAAA;;AAED,IAAA,aAASA,UAAT,GAAqB;AACjB,IAAA,YAAGhB,SAAH,EAAa;AACTf,IAAAA,uBAAWe,SAAX;AACH,IAAA;;AAED,IAAA,YAAG,CAACO,OAAJ,EAAY;AACR,IAAA;AACH,IAAA;;AAEDtB,IAAAA,mBAAWsB,OAAX;;AAEAxC,IAAAA,oBAAYyC,cAAZ;AACAA,IAAAA,yBAAiB7C,aAAaqD,UAAb,CAAjB;AAEH,IAAA;;AAED,IAAA,aAAS/B,UAAT,CAAoBgC,EAApB,EAAuB;AACnB,IAAA,YAAIC,OAAOC,QAAQF,EAAR,CAAX;AAAA,IAAA,YAAwBG,gBAAxB;AAAA,IAAA,YAAiCC,gBAAjC;;AAEA,IAAA,YAAG3C,MAAM4C,CAAN,GAAUJ,KAAKK,IAAL,GAAYlD,KAAKE,MAA9B,EAAqC;AACjC6C,IAAAA,sBAAUI,KAAKC,KAAL,CACND,KAAKE,GAAL,CAAS,CAAC,CAAV,EAAa,CAAChD,MAAM4C,CAAN,GAAUJ,KAAKK,IAAhB,IAAwBlD,KAAKE,MAA7B,GAAsC,CAAnD,IAAwDF,KAAKC,QADvD,CAAV;AAGH,IAAA,SAJD,MAIM,IAAGI,MAAM4C,CAAN,GAAUJ,KAAKS,KAAL,GAAatD,KAAKE,MAA/B,EAAsC;AACxC6C,IAAAA,sBAAUI,KAAKI,IAAL,CACNJ,KAAKK,GAAL,CAAS,CAAT,EAAY,CAACnD,MAAM4C,CAAN,GAAUJ,KAAKS,KAAhB,IAAyBtD,KAAKE,MAA9B,GAAuC,CAAnD,IAAwDF,KAAKC,QADvD,CAAV;AAGH,IAAA,SAJK,MAID;AACD8C,IAAAA,sBAAU,CAAV;AACH,IAAA;;AAED,IAAA,YAAG1C,MAAMoD,CAAN,GAAUZ,KAAKa,GAAL,GAAW1D,KAAKE,MAA7B,EAAoC;AAChC8C,IAAAA,sBAAUG,KAAKC,KAAL,CACND,KAAKE,GAAL,CAAS,CAAC,CAAV,EAAa,CAAChD,MAAMoD,CAAN,GAAUZ,KAAKa,GAAhB,IAAuB1D,KAAKE,MAA5B,GAAqC,CAAlD,IAAuDF,KAAKC,QADtD,CAAV;AAGH,IAAA,SAJD,MAIM,IAAGI,MAAMoD,CAAN,GAAUZ,KAAKc,MAAL,GAAc3D,KAAKE,MAAhC,EAAuC;AACzC8C,IAAAA,sBAAUG,KAAKI,IAAL,CACNJ,KAAKK,GAAL,CAAS,CAAT,EAAY,CAACnD,MAAMoD,CAAN,GAAUZ,KAAKc,MAAhB,IAA0B3D,KAAKE,MAA/B,GAAwC,CAApD,IAAyDF,KAAKC,QADxD,CAAV;AAGH,IAAA,SAJK,MAID;AACD+C,IAAAA,sBAAU,CAAV;AACH,IAAA;;AAEDvD,IAAAA,mBAAW,YAAI;;AAEX,IAAA,gBAAGuD,OAAH,EAAW;AACPY,IAAAA,wBAAQhB,EAAR,EAAYI,OAAZ;AACH,IAAA;;AAED,IAAA,gBAAGD,OAAH,EAAW;AACPc,IAAAA,wBAAQjB,EAAR,EAAYG,OAAZ;AACH,IAAA;AAEJ,IAAA,SAVD;AAWH,IAAA;;AAED,IAAA,aAASa,OAAT,CAAiBhB,EAAjB,EAAqBkB,MAArB,EAA4B;AACxB,IAAA,YAAGlB,OAAOnC,MAAV,EAAiB;AACbA,IAAAA,mBAAOsD,QAAP,CAAgBnB,GAAGoB,WAAnB,EAAgCpB,GAAGqB,WAAH,GAAiBH,MAAjD;AACH,IAAA,SAFD,MAEK;AACD,IAAA;AACAlB,IAAAA,eAAGsB,SAAH,IAAgBJ,MAAhB;AACH,IAAA;AACJ,IAAA;;AAED,IAAA,aAASD,OAAT,CAAiBjB,EAAjB,EAAqBkB,MAArB,EAA4B;AACxB,IAAA,YAAGlB,OAAOnC,MAAV,EAAiB;AACbA,IAAAA,mBAAOsD,QAAP,CAAgBnB,GAAGoB,WAAH,GAAiBF,MAAjC,EAAyClB,GAAGqB,WAA5C;AACH,IAAA,SAFD,MAEK;AACD,IAAA;AACArB,IAAAA,eAAGuB,UAAH,IAAiBL,MAAjB;AACH,IAAA;AACJ,IAAA;AAEJ,IAAA;;AAED,AAAe,IAAA,SAASM,mBAAT,CAA6BlD,OAA7B,EAAsCnB,OAAtC,EAA8C;AACzD,IAAA,WAAO,IAAIF,YAAJ,CAAiBqB,OAAjB,EAA0BnB,OAA1B,CAAP;AACH,IAAA;;AAED,IAAA,SAAS+C,OAAT,CAAiBF,EAAjB,EAAoB;AAChB,IAAA,QAAGA,OAAOnC,MAAV,EAAiB;AACb,IAAA,eAAO;AACHiD,IAAAA,iBAAK,CADF;AAEHR,IAAAA,kBAAM,CAFH;AAGHI,IAAAA,mBAAO7C,OAAO4D,UAHX;AAIHV,IAAAA,oBAAQlD,OAAO6D,WAJZ;AAKHC,IAAAA,mBAAO9D,OAAO4D,UALX;AAMHG,IAAAA,oBAAQ/D,OAAO6D;AANZ,IAAA,SAAP;AASH,IAAA,KAVD,MAUK;AACD,IAAA,YAAG;AACC,IAAA,mBAAO1B,GAAG6B,qBAAH,EAAP;AACH,IAAA,SAFD,CAEC,OAAMC,CAAN,EAAQ;AACL,IAAA,kBAAM,IAAIC,SAAJ,CAAc,yCAAuC/B,EAArD,CAAN;AACH,IAAA;AAEJ,IAAA;AACJ,IAAA;;AAED,IAAA,SAASH,MAAT,CAAgBpC,KAAhB,EAAuBuC,EAAvB,EAA2BC,IAA3B,EAAgC;AAC5BA,IAAAA,WAAOA,QAAQC,QAAQF,EAAR,CAAf;AACA,IAAA,WAAQvC,MAAMoD,CAAN,GAAUZ,KAAKa,GAAf,IAAsBrD,MAAMoD,CAAN,GAAUZ,KAAKc,MAArC,IACAtD,MAAM4C,CAAN,GAAUJ,KAAKK,IADf,IACuB7C,MAAM4C,CAAN,GAAUJ,KAAKS,KAD9C;AAEH,IAAA;;AAED,IAAA;;;;;;;"}